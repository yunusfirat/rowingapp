/* Copyright (c) 2013-2018 Trialfire Inc. All rights reserved. */!function(){Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null===this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.map||(Array.prototype.map=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=new Array(c),e=arguments.length>=2?arguments[1]:void 0,f=0;f<c;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(arguments.length>=2)b=arguments[1];else{for(;e<d&&!e in c;)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;e++)e in c&&(b=a(b,c[e],e,c));return b}),window.Trialfire=window.Trialfire||function(){"use strict";function a(){Trialfire.services.logger.DEFAULT.apply(null,arguments)}function b(a){return/\bMSIE 7\.0.+Trident\b/.test(a)}function c(a){var c="\\b("+["Googlebot","Bingbot","Yahoo! Slurp","DuckDuckBot","Baiduspider","YandexBot","Sogou","GomezAgent","CloudFlare","Google Web Preview","AdsBot-Google","facebot","facebookexternalhit","ia_archiver","Exabot","MSIE [67]."].join("|")+")\\b",d=!new RegExp(c,"i").test(a);return d||b(a)}function d(a){var b=document.head||document.body;b?a(b):setTimeout(function(){d(a)},10)}function e(){return window.CloudFlare&&Document.prototype&&Document.prototype.createElement?Document.prototype.createElement.call(document,"script"):document.createElement("script")}function f(b){return new Trialfire.classes.Promise(function(a,c){var e=Trialfire.createScriptElement();e.src=b,e.onload=function(){a(e),e.parentNode.removeChild(e)},e.onerror=function(a){c(a),e.parentNode.removeChild(e)},d(function(a){a.appendChild(e)})})["catch"](function(c){var d=a("init: script at",b,"could not be loaded",c);throw{msg:d,src:b,cause:c}})}function g(){a("init: loading capture module");var b=Trialfire.services.stats.timer("loadStage1");return s.captureMode=f(Trialfire.config.assetUrl+"/tf.stage1.js").then(function(){return a("init: loadStage1 in",b.stop().value(),"ms"),Trialfire.modules.capture.init()},function(b){var c=a("init: loading capture module failed",b);throw{msg:c,cause:b}})}function h(){Trialfire.services.message.waitFor("load stage2",function(b,c){a("init: got request to enter pinning mode"),Trialfire.modules.capture.destroy().then(function(){i(c)})})}function i(b){a("init: loading pinning module");var c=Trialfire.services.stats.timer("loadStage2");return s.pinningMode=f(Trialfire.config.assetUrl+"/tf.stage2.js").then(function(){return a("init: loadStage2 in",c.stop().value(),"ms"),Trialfire.modules.learn.init(b)},function(b){var c=a("init: loading pinning module failed",b);throw{msg:c,cause:b}})}function j(a){if("string"==typeof a)o.set({key:a});else if("object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&(o[b]=a[b]);"function"==typeof window.__tfConfigMutate&&window.__tfConfigMutate(o)}function k(b){var d=Trialfire.services.stats;if(!c(navigator.userAgent))return void a("init: user agent is not supported");try{Trialfire.config.enableMessageService=!0,Trialfire.setOptions(b)}catch(e){a("init: failed to accept config",e)}try{Trialfire.services.listen.startSpying()}catch(e){d.isSampling()&&d.postError("init: failed to start listening",e)}return m(),Trialfire.services.message.post("location",document.URL,"init1_"+(new Date).getTime()),g().then(h).then(function(){Trialfire.services.message.post("loaded",null,"init2_"+(new Date).getTime())},function(a){d.isSampling()&&d.postError("init: failed to initialize Trialfire",a)})}function l(){for(var a in p)p.hasOwnProperty(a)&&p[a].destroy()}function m(){var a=Trialfire.services.listen,b=Trialfire.services.notify,c=!1;a.addEventListenerToWindow.call(window,"beforeunload",function(a){c=!0,b.notify("beforeunload",a)}),a.addEventListenerToWindow.call(window,"unload",function(a){c||b.notify("beforeunload",a)})}var n={},o={},p={},q={},r={},s={};return o.set=function(a,b){for(var c in a)a.hasOwnProperty(c)&&(b||"undefined"==typeof o[c])&&(o[c]=a[c]);return o},{classes:n,config:o,modules:p,services:q,vendor:r,setOptions:j,init:k,destroy:l,log:a,isSupportedUserAgent:c,createScriptElement:e}}(),function(a){"use strict";a.set({serverUrl:function(a,b){return(b||"https://")+"app.trialfire.com"+(a||"")}}),a.set({assetUrl:"//cdn.trialfire.com",messageWebClientOrigin:function(){return a.serverUrl("","http://")},log:!!localStorage&&"true"===localStorage.getItem("_tf_log"),stats:{}})}(Trialfire.config),Trialfire.services.logger=function(){function a(a){Trialfire.config.log=a,localStorage&&a?localStorage.setItem("_tf_log","true"):localStorage&&!a&&localStorage.removeItem("_tf_log")}function b(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(b){return"[cyclic]"}}function c(){return window.console&&window.console.log&&Trialfire.config.log&&Function.prototype.apply.call(window.console.log,window.console,Array.prototype.slice.call(arguments)),Array.prototype.slice.call(arguments).reduce(function(a,c){return c?a+" "+b(c):a},"").trim()}function d(a){var b=function(){var b=[].slice.call(arguments);return"string"==typeof b[0]?b[0]=a.name+": "+b[0]:b.unshift(a.name+":"),c.apply(null,b)};return f[a.name]=b,b}function e(a){return f[a.name]||d(a)}var f={},g=e;return g.DEFAULT=c,g.setLogging=a,g}(),function(a){"use strict";a.set({log:!0,jsonpUrlUnsecured:a.serverUrl("/event/json/"),postEventUrl:a.serverUrl("/t/"),analyticsUrls:["alias","group","heartbeat","identify","page","track"].reduce(function(b,c){return b[c]=a.serverUrl("/analytics/"+c+"/"),b},{}),jsonpUrl:a.serverUrl("/event/jsonSecure/"),postNamedEventUrl:a.serverUrl("/ne/"),deleteNamedEventUrl:a.serverUrl("/dne/"),feedbackUrl:a.serverUrl("/feedback/external"),promptFollowDelay:100,outboundLinkDelay:300,captureFlushInterval:2e3,pinsEtagKey:"tf-pins-etag",pinsListKey:"tf-pins-list",pinsTreeKey:"tf-pins-tree",fieldBlacklistKey:"tf-input-blacklist",listenAttribute:"data-tf-inspect",textContentLimit:100,eventVersion:3,enableMessageService:!1,decorationRepaintInterval:250,impressionInterval:2e3,heartbeatInterval:3e5,eventTypeToPinTypeMatchingMap:{CLICK:["CLICK"],VIEW:["VIEW"],FIELD_INPUT:["INPUT","PERSON"]},whitelistedAttributes:["id","name","type","title","alt","src","href","value"],serverTimeOffset:0,analytics:{sendPageViews:!0,sendSinglePageViews:!0,waitForPinModeInitTimeout:5e3},inputEmailRegex:/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.([a-z]{2,64})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i})}(Trialfire.config),Trialfire.services.notify=function(){var a=Trialfire.services.logger({name:"notify"}),b={},c={};return b.notify=function(b,d,e){var f;if(c[b])for(f=0;f<c[b].length;f++)try{c[b][f](d,b)}catch(g){a("error",{event:b,data:d,error:g}),e(g)}},b.listen=function(a,b){c[a]=c[a]||[],~c[a].indexOf(b)||c[a].push(b)},b.remove=function(a,b){var d;if(c[a])for(d=0;d<c[a].length;d++)if(c[a][d]===b)return void c[a].splice(d,1)},b.reset=function(){c={}},b}(),Trialfire.services.listen=Trialfire.services.listen||function(){function a(a){return a===window?u:a===window.document?t:s}function b(a){return a===window?C:a===window.document?B:A}function c(a,b,c){var d;try{return a.apply(b,c)}catch(e){Trialfire.log("bogusCall strategy #1 failed",e)}try{return Function.prototype.apply.call(a,b,c)}catch(e){Trialfire.log("bogusCall strategy #2 failed",e)}try{return b.$$trialfire_propertyName_nobody_will_EVER_use=a,d=b.$$trialfire_propertyName_nobody_will_EVER_use.apply(c),delete b.$$trialfire_propertyName_nobody_will_EVER_use,d}catch(e){Trialfire.log("bogusCall strategy #3 failed",e)}}function d(a,b){var c,d,e,f;for(c=y.length-1;c>=0;--c)if(e=y[c],e.target===a&&e.args.length===b.length){for(d=0;d<b.length&&b[d]===e.args[d];++d);if(d===b.length)break}return f=c}function e(a,b){~d(a,b)||y.push({target:a,args:b})}function f(a,b){var c=d(a,b);~c&&y.splice(c,1)}function g(){if(e(this,arguments),x)return"click"===arguments[0]&&k(this,n(""+arguments[1])),c(a(this),this,arguments)}function h(){if(f(this,arguments),x)return l(this),c(b(this),this,arguments)}function i(){z&&!E&&(z[v]=g,z[D]=h,window instanceof w||(window[v]=g,window[D]=h),window.document instanceof w||(window.document[v]=g,window.document[D]=h),E=!0)}function j(){z&&E&&(z[v]=s,z[D]=A,window instanceof w||(window[v]=u,window[D]=C),window.document instanceof w||(window.document[v]=t,window.document[D]=B),m(),y.length=0,E=!1)}function k(a,b){return a&&a.setAttribute&&a.setAttribute(Trialfire.config.listenAttribute,b)}function l(a){return a&&a.removeAttribute&&a.removeAttribute(Trialfire.config.listenAttribute)}function m(){y.forEach(function(a){l(a.target)})}function n(a){var b=0;if(0===a.length)return b;for(var c,d=0,e=a.length;d<e;d++)c=a.charCodeAt(d),b=(b<<5)-b+c,b|=0;return b}function o(){x&&E&&(y.forEach(function(a){c(A,a.target,a.args)}),x=!1)}function p(){!x&&E&&(y.forEach(function(a){c(s,a.target,a.args)}),x=!0)}function q(){return!x}function r(){return x}var s,t,u,v,w,x,y,z,A,B,C,D,E;return w=window.EventTarget||window.Element,z=w&&w.prototype,v=z&&z.addEventListener?"addEventListener":"attachEvent",D=z&&z.removeEventListener?"removeEventListener":"detachEvent",s=z?z[v]:function(){},t=window.document[v],u=window[v],A=z?z[D]:function(){},B=window.document[D],C=window[D],E=!1,y=[],x=!0,{addAndRegisterEventListener:g,addEventListener:s,addEventListenerToDocument:t,addEventListenerToWindow:u,disable:o,enable:p,isDisabled:q,isEnabled:r,removeAndUnregisterEventListener:h,removeEventListener:A,removeEventListenerFromDocument:B,removeEventListenerFromWindow:C,startSpying:i,stopSpying:j}}(),Trialfire.services.message=Trialfire.services.message||function(){function a(a){a.origin===Trialfire.config.messageWebClientOrigin()&&f[a.data.topic]&&(f[a.data.topic](a.data.data,a.data.messageId),f[a.data.topic]&&f[a.data.topic].$$once&&delete f[a.data.topic])}function b(a,b){f[a]=b}function c(a,c){c.$$once=!0,b(a,c)}function d(a,b){f[a]===b&&delete f[a]}function e(a,b,c){return c=c||Trialfire.vendor.uuid(),!!Trialfire.config.enableMessageService&&(!(window.parent===window||!window.parent||!window.parent.postMessage)&&(window.parent.postMessage({fromTrackingModule:!0,messageId:c,topic:a,data:b},Trialfire.config.messageWebClientOrigin()),!0))}var f;return f={},Trialfire.services.listen.addEventListenerToWindow.call(window,"message",a,!0),{post:e,waitFor:b,waitForOnce:c,giveUp:d}}(),Trialfire.services.stats=Trialfire.services.stats||function(a,b){"use strict";function c(a){var b={start:(new Date).getTime()};return b.stop=function(){return j.timer[a]=(new Date).getTime()-b.start,i=!0,b},b.print=function(){return"timer: "+a+" in "+j.timer[a]+"ms"},b.value=function(){return j.timer[a]},b.log=function(){Trialfire.log(b.print())},b}function d(){j={timer:{}}}function e(){if(void 0!==h)return h;var b=(a.stats||{})[Trialfire.config.key];return h=!!b&&Math.random()<b.sampleRate}function f(){if(i&&e()){var b=new XMLHttpRequest;b.open("POST",a.serverUrl("/tm/stats"),!0),b.setRequestHeader("Content-Type","application/json"),b.send(JSON.stringify(j)),b.onreadystatechange=function(){b.readyState===XMLHttpRequest.DONE&&200===b.status&&d()}}}function g(){if(Trialfire.log.apply(Trialfire,arguments),arguments.length>0){var b=[].slice.call(arguments).reduce(function(a,b){return b?a+" "+("string"==typeof b?b:JSON.stringify(b)):a},"").trim(),c=new XMLHttpRequest;c.open("POST",a.serverUrl("/tm/error"),!0),c.setRequestHeader("Content-Type","text/plain"),c.send("apiToken: "+Trialfire.config.key+"\nlocation: "+window.location.href+"\n"+b)}}var h,i,j;return b.listen("pinsAndConfig:update",function(){setTimeout(f,250)}),d(),{data:j,timer:c,isSampling:e,postStats:f,postError:g}}(Trialfire.config,Trialfire.services.notify),Trialfire.services.analytics=function(a){"use strict";return a.queue=[],["property","identify","group","page","track","ready"].map(function(b){a[b]=function(){a.queue.push({method:b,args:[].slice.call(arguments)})},window.Trialfire[b]=function(){return a[b].apply(window,arguments)}}),window.Trialfire.account=window.Trialfire.group,a}(Trialfire.services.analytics||{}),Trialfire.services.media=function(a,b){"use strict";function c(b){a.videoServiceOrigins.some(function(a){return!!~b.origin.indexOf(a)})&&a.postMessageBuffer.push(b)}function d(){window.postMessage&&(b("media: start buffering video service messages"),Trialfire.services.listen.addEventListenerToWindow.call(window,"message",a.bufferMessage))}function e(){window.postMessage&&(b("media: stop buffering video service messages"),Trialfire.services.listen.removeEventListenerFromWindow.call(window,"message",a.bufferMessage))}return a.videoServiceOrigins=["youtube.com","player.vimeo.com"],a.postMessageBuffer=[],a.bufferMessage=c,a.startBufferingMessages=d,a.stopBufferingMessages=e,a.startBufferingMessages(),a}(Trialfire.services.media||{},Trialfire.log),!function(){var a,b,c,d;!function(){var e={},f={};a=function(a,b,c){e[a]={deps:b,callback:c}},d=c=b=function(a){function c(b){if("."!==b.charAt(0))return b;for(var c=b.split("/"),d=a.split("/").slice(0,-1),e=0,f=c.length;f>e;e++){var g=c[e];if(".."===g)d.pop();else{if("."===g)continue;d.push(g)}}return d.join("/")}if(d._eak_seen=e,f[a])return f[a];if(f[a]={},!e[a])throw new Error("Could not find module "+a);for(var g,h=e[a],i=h.deps,j=h.callback,k=[],l=0,m=i.length;m>l;l++)"exports"===i[l]?k.push(g={}):k.push(b(c(i[l])));var n=j.apply(this,k);return f[a]=g||n}}(),a("promise/all",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to all.");return new b(function(b,c){function d(a){return function(b){f(a,b)}}function f(a,c){h[a]=c,0===--i&&b(h)}var g,h=[],i=a.length;0===i&&b([]);for(var j=0;j<a.length;j++)g=a[j],g&&e(g.then)?g.then(d(j),c):f(j,g)})}var d=a.isArray,e=a.isFunction;b.all=c}),a("promise/asap",["exports"],function(a){"use strict";function b(){return function(){process.nextTick(e)}}function c(){var a=0,b=new i(e),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function d(){return function(){j.setTimeout(e,1)}}function e(){for(var a=0;a<k.length;a++){var b=k[a],c=b[0],d=b[1];c(d)}k=[]}function f(a,b){var c=k.push([a,b]);1===c&&g()}var g,h="undefined"!=typeof window?window:{},i=h.MutationObserver||h.WebKitMutationObserver,j="undefined"!=typeof global?global:this||window,k=[];g="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():i?c():d(),a.asap=f}),a("promise/cast",["exports"],function(a){"use strict";function b(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=this;return new b(function(b){b(a)})}a.cast=b}),a("promise/config",["exports"],function(a){"use strict";function b(a,b){return 2!==arguments.length?c[a]:void(c[a]=b)}var c={instrument:!1};a.config=c,a.configure=b}),a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){"use strict";function d(){var a="Promise"in Trialfire.classes&&"cast"in Trialfire.classes.Promise&&"resolve"in Trialfire.classes.Promise&&"reject"in Trialfire.classes.Promise&&"all"in Trialfire.classes.Promise&&"race"in Trialfire.classes.Promise&&function(){var a;return new Trialfire.classes.Promise(function(b){a=b}),f(a)}();a||(Trialfire.classes.Promise=e)}var e=a.Promise,f=b.isFunction;c.polyfill=d}),a("promise/promise",["./config","./utils","./cast","./all","./race","./resolve","./reject","./asap","exports"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){if(!w(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof j))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],k(a,this)}function k(a,b){function c(a){p(b,a)}function d(a){r(b,a)}try{a(c,d)}catch(e){d(e)}}function l(a,b,c,d){var e,f,g,h,i=w(c);if(i)try{e=c(d),g=!0}catch(j){h=!0,f=j}else e=d,g=!0;o(b,e)||(i&&g?p(b,e):h?r(b,f):a===F?p(b,e):a===G&&r(b,e))}function m(a,b,c,d){var e=a._subscribers,f=e.length;e[f]=b,e[f+F]=c,e[f+G]=d}function n(a,b){for(var c,d,e=a._subscribers,f=a._detail,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],l(b,c,d,f);a._subscribers=null}function o(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(v(b)&&(d=b.then,w(d)))return d.call(b,function(d){return!!c||(c=!0,void(b!==d?p(a,d):q(a,d)))},function(b){return!!c||(c=!0,void r(a,b))}),!0}catch(e){return!!c||(r(a,e),!0)}return!1}function p(a,b){a===b?q(a,b):o(a,b)||q(a,b)}function q(a,b){a._state===D&&(a._state=E,a._detail=b,u.async(s,a))}function r(a,b){a._state===D&&(a._state=E,a._detail=b,u.async(t,a))}function s(a){n(a,a._state=F)}function t(a){n(a,a._state=G)}var u=a.config,v=(a.configure,b.objectOrFunction),w=b.isFunction,x=(b.now,c.cast),y=d.all,z=e.race,A=f.resolve,B=g.reject,C=h.asap;u.async=C;var D=void 0,E=0,F=1,G=2;j.prototype={constructor:j,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var e=arguments;u.async(function(){l(c._state,d,e[c._state-1],c._detail)})}else m(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}},j.all=y,j.cast=x,j.race=z,j.resolve=A,j.reject=B,i.Promise=j}),a("promise/race",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to race.");return new b(function(b,c){for(var d,e=0;e<a.length;e++)d=a[e],d&&"function"==typeof d.then?d.then(b,c):b(d)})}var d=a.isArray;b.race=c}),a("promise/reject",["exports"],function(a){"use strict";function b(a){var b=this;return new b(function(b,c){c(a)})}a.reject=b}),a("promise/resolve",["exports"],function(a){"use strict";function b(a){var b=this;return new b(function(b){b(a)})}a.resolve=b}),a("promise/utils",["exports"],function(a){"use strict";function b(a){return c(a)||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}var e=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=b,a.isFunction=c,a.isArray=d,a.now=e}),b("promise/polyfill").polyfill()}()}();
/* Date: Thu Apr  5 23:05:59 UTC 2018 Rev: e37d468f961efd0b447cc5afcbd24dffe68624fd Build: 171 refs/heads/develop */